require.config({waitSeconds:0}),define(["jquery","cors","utils","handlebars","json2","rules"],function(t,i,e,l,n,s){$.support.cors=!0,{config:{tipsTpl:function(){return $("#tipstpl")}},init:function(){var t=this;t.loadingfn(),$(".btntest").on("click",function(){t.openTestingWin()}),t.loadData()},loadingfn:function(){$(document).ajaxStart(function(){$(".btn").addClass("disabled").prop("disabled",!0),$("#loading").show()}).ajaxStop(function(){$(".btn").removeClass("disabled").prop("disabled",!1),$("#loading").hide()}).ajaxError(function(t,i,e){}).ajaxComplete(function(t,i,e){$(".btn").removeClass("disabled").prop("disabled",!1),$("#loading").hide()})},openTestingWin:function(){try{PC_JH("EM_FUNC_ZXSTYLE_TEST","")}catch(t){}},loadData:function(){var i=this;$.ajax({url:window.gConfig.apiHost+"evaluation/getresult",type:"POST",timeout:5e3,dataType:"JSON",success:function(t){0==t.RetCode?i.loadTestResult(t.Message):$(".firstpage").show().siblings().hide()},error:function(t,i,e){}})},loadTestResult:function(t){if(null==t||t==undefined)return $(".firstpage").show().siblings().hide(),!1;var i=dictionary[t.InvestTarget];$("#investType").html(i.type),$("#investDesc").html("<i>“</i> "+i.desc+"<i>”</i>"),$(".testedpage .imgbg").attr("src",i.imgsrcBig),$("#qa1").html(t.InvestTargetDesc),$("#qa2").html(t.ChooseStockReasonDesc),$("#qa3").html(t.HoldStockTimeDesc+" "+t.BuyStyleDesc);for(var e=["InvestTargetTip","ChooseStockReasonTip","HoldStockTimeTip","BuyStyleTip"],n=0;n<e.length;n++){var s=e[n];if(t[s]){var o=this.config.tipsTpl().html(),a=l.compile(o)(JSON.parse(t[s]));"HoldStockTimeTip"===s||"BuyStyleTip"===s?($("#tipsHoldStockTimeTip").find("dl").length&&(a=a.replace(/\<dt\>提示：<\/dt\>/g,"")),$("#tipsHoldStockTimeTip").append(a),$("#tipsHoldStockTimeTip").parents("dl").addClass("active")):$("#tips"+s).empty().append(a),$("#tips"+s).parents("dl").addClass("active")}}$(".icontips").hover(function(){$(this).parents("dl").find(".tipsbox").toggle()}),$(".testedpage").show().siblings().hide()}}.init(),$.EMoneyAnalytics().Init(myoptTjAppid,"invest_style","")});
!function(){var p={nonedataHtml:'<div class="no-info">暂无数据显示，请稍后重试</div>',init:function(){utils.appendSSO();var e=this;e.getUID=utils.getUID(),e.getAppId=appIDcloudinfo,$.each([".ztc-box"],function(e,i){0<$(i).length&&$(i).niceScroll({cursorcolor:"#666",cursoropacitymax:.5,touchbehavior:!1,cursorwidth:"6px",cursorborder:"0",cursorborderradius:"8px",autohidemode:!1})}),e.expertStrategy(),e.liveScroll();setInterval(function(){e.livingList()},18e4)},liveScroll:function(){$.fn.extend({newScroll:function(){var e=$(this);setInterval(function(){$(e).find("li:first").animate({marginTop:"82px"},500,function(){$(this).css({marginTop:"0"}),$(e).prepend($(e).find("li:last"))})},3500)}}),$(".live-list").newScroll()},expertStrategy:function(){var e=this;0==PageData.RetCode&&PageData.Data&&(e.livelistdata=PageData.Data.YqqHomeData,e.mergeLiveingLstHtml(),e.liveRecord=PageData.Data.YqqStat,e.mergeYqqStatHtml(),e.yqqexpert=PageData.Data.TypeGroup,e.mergeGroupHtml())},mergeGroupHtml:function(){var e=[{ltype:"ShortTerm",dom:"#LRtype4"},{ltype:"Value",dom:"#LRtype2"},{ltype:"Operate",dom:"#LRtype3"}],i=this.yqqexpert;if(Handlebars.registerHelper("filterSymbol",function(e){return e.replace(/[&\|\\\*^%$#@\-][a-zA-Z]+?;/gi," ")}),i){var a=['<ul class="sub-list">',"{{#each this}}",'<li class="sub-item">','<a class="sub-item-link" href="'+pagerouter.yqqUserLive+"?lid={{ Id }}"+utils.EMSSO()+'" target="_blank" clickkey="lrtype4|logo" clickdata="{{Id}}|yqqLive" clickremark=""><img src="{{ LiveImg }}" /></a>','<div class="cont-box">','<p class="sub-title"><a href="'+pagerouter.yqqUserLive+"?lid={{ Id }}"+utils.EMSSO()+'" target="_blank" clickkey="lrtype4|name" clickdata="{{Id}}|yqqLive" clickremark="">{{ LiveName }}</a></p>','<p class="sub-summary"><a href="'+pagerouter.yqqUserLive+"?lid={{ Id }}"+utils.EMSSO()+'" target="_blank" clickkey="lrtype4|summary" clickdata="{{Id}}|yqqLive" clickremark="">{{filterSymbol Content }}</a></p>',"</div>",'<div class="clearfloat"></div>',"</li>","{{/each}}","</ul>"].join("");for(s=0;s<e.length;s++){if(i[(r=e[s]).ltype]){var t=i[r.ltype];t=t.slice(0,3);var l=Handlebars.compile(a+"")(t);$(r.dom).html(l),1==s?($(r.dom).find(".sub-item-link").attr("clickkey","lrtype2|logo"),$(r.dom).find(".sub-title a").attr("clickkey","lrtype2|name"),$(r.dom).find(".sub-summary a").attr("clickkey","lrtype2|summary")):2==s&&($(r.dom).find(".sub-item-link").attr("clickkey","lrtype1|logo"),$(r.dom).find(".sub-title a").attr("clickkey","lrtype1|name"),$(r.dom).find(".sub-summary a").attr("clickkey","lrtype1|summary"))}}}else for(var s=0;s<e.length;s++){var r=e[s];$(r.dom).html(p.nonedataHtml)}},mergeYqqStatHtml:function(){var e=this.liveRecord;if(e){Handlebars.registerHelper("wang",function(e){return e==undefined||null==e||0==e.length?"":1e4<=e?Math.round(e/1e4)+"万":e});var i=['<li class="record-item">','    <span class="bg-yqq_states bg-yqq_states_1" ></span>','    <p class="con">专家博主<span>{{wang LiveRoomNum}}</span>名</p>',"</li>",'<li class="record-item">','   <span class="bg-yqq_states bg-yqq_states_2" ></span>','    <p class="con">实时观点<span>{{wang ContentNum}}</span>条</p>',"</li>",'<li class="record-item">','    <span class="bg-yqq_states bg-yqq_states_3" ></span>','    <p class="con">参与直播<span>{{wang QuestionNum}}</span>人</p>',"</li>",'<li class="record-item">','    <span class="bg-yqq_states bg-yqq_states_4" ></span>','    <p class="con">问答互动<span>{{wang UserNum}}</span>条</p>',"</li>"].join(""),a=Handlebars.compile(i)(e);$("#record-list").empty().append(a)}},mergeLiveingLstHtml:function(){var e=this.livelistdata;if(!e)return $("#live-list,#live-list-wrap,#visit-more-list-wrap").find(".no-info").remove(),void $("#live-list,#live-list-wrap,#visit-more-list-wrap").addClass("no-info-cnt").append(p.nonedataHtml);Handlebars.registerHelper("renderTime",function(e){return e=e==undefined||null==e||0==e.length?"":e.slice(11,16),new Handlebars.SafeString(e)});var i=e.ScrollList,a=e.HotList,t=e.VipList,l=[" {{#each this}}",'     <li class="live-item">','        <a href="'+pagerouter.yqqUserLive+"?lid={{ LId }}"+utils.EMSSO()+'" target="_blank" clickkey="zhengzaizhibo|logo" clickdata="{{ LId }}|yqqLive" clickremark=""><img class="iamge" src="{{LiveImg}}"/></a>','        <a href="'+pagerouter.yqqUserLive+"?lid={{ LId }}"+utils.EMSSO()+'" target="_blank" clickkey="zhengzaizhibo|name" clickdata="{{ LId }}|yqqLive" clickremark=""><span class="name">{{LiveName}}</span></a>','        <span class="time">{{renderTime NewContentTime}}</span>','        <a class="desc-link" href="'+pagerouter.yqqUserLive+"?lid={{ LId }}"+utils.EMSSO()+'" target="_blank" clickkey="zhengzaizhibo|summary" clickdata="{{ LId }}|yqqLive" clickremark=""><span class="desc">{{ LiveNewContent}}</span></a>','        <a class="enter-live-btn" href="'+pagerouter.yqqUserLive+"?lid={{ LId }}"+utils.EMSSO()+'" target="_blank"><span>进入直播间</span></a>',"       </li>"," {{/each}}"].join(""),s=[" {{#each this}}",'<li class="vip-item">','   <a class="vip-item-link" href="'+pagerouter.yqqUserLive+"?lid={{LId}}"+utils.EMSSO()+'"  target="_blank" clickkey="huoyuezhibojian|huoyue" clickdata="{{LId}}|yqqLive" clickremark="">','     <img class="image" src="{{LiveImg}}"/>','       <div class="desc">','          <p class="title">{{LiveName}}</p>','          <p class="summary">{{LiveIntro}}</p>',"        </div>","    </a>"," </li>"," {{/each}}"].join(""),r=[" {{#each this}}",'<li class="vip-item">','   <a class="vip-item-link" href="'+pagerouter.yqqUserLive+"?lid={{LId}}"+utils.EMSSO()+'" target="_blank" clickkey="VIPzhibojian|vip" clickdata="{{LId}}|yqqLive" clickremark="">','     <img class="image" src="{{LiveImg}}"/>','       <div class="desc">','          <p class="title">{{LiveName}}</p>','          <p class="summary">{{LiveIntro}}</p>',"        </div>","    </a>"," </li>"," {{/each}}"].join("");if(i&&i.length){var n=Handlebars.compile(l)(i);$("#live-list,#live-list-wrap,#visit-more-list-wrap").find(".no-info").remove(),$("#live-list").append(n)}else $("#live-list").html(p.nonedataHtml);if(a&&a.length){var c=Handlebars.compile(s)(a);$("#visit-more-list-wrap").append(c)}else $("#visit-more-list-wrap").html(p.nonedataHtml);if(r&&r.length){var o=Handlebars.compile(r)(t);$("#live-list-wrap").append(o)}else $("#live-list-wrap").html(p.nonedataHtml)},livingList:function(){Handlebars.registerHelper("renderTime",function(e){return e=e==undefined||null==e||0==e.length?"":e.slice(11,16),new Handlebars.SafeString(e)});var i=this;$.ajax({url:window.gConfig.apiHost+"yqq/getyqqhomedata",type:"GET",timeout:ajaxTimeout,dataType:"JSON",success:function(e){0==e.RetCode?(i.livelistdata=e.Data,i.mergeLiveingLstHtml()):($("#live-list,#live-list-wrap,#visit-more-list-wrap").find(".no-info").remove(),$("#live-list,#live-list-wrap,#visit-more-list-wrap").addClass("no-info-cnt").append(p.nonedataHtml))},error:function(e,i,a){$("#live-list,#live-list-wrap,#visit-more-list-wrap").find(".no-info").remove(),$("#live-list,#live-list-wrap,#visit-more-list-wrap").addClass("no-info-cnt").append(p.nonedataHtml)}})}};p.init(),$.emoneyAanalytics().Init(tjAppid.expert,"celue_home","")}();
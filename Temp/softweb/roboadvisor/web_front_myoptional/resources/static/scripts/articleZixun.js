String.prototype.Trim=function(){return this.replace(/^[\s\n\t]*|[\s\n\t]*$/g,"")};var page={config:{newsId:QueryString("newsid"),uid:QueryString("uid"),source:QueryString("source"),cloudUrl:"http://jrptgsggpdf.emoney.cn/newsdata/",likes:0},init:function(){this.loadData(),theme=page.getCookie("theme"),theme=""==theme?"lightblue":theme;for(var e=page.get("themeoptions").getElementsByTagName("a"),t=0;t<e.length;t++)if(e[t].className==theme){page.setThemes(e[t],theme);break}window.onresize=function(){page.resize()}},loadData:function(){var url=window.gConfig.expertBaseUrl+"expert/strategy/GetStrategyNewsInfoByNewsID?NewsID="+page.config.newsId,appid=appIDnewsinfo;"cloud"===page.config.source&&(url=page.config.cloudUrl+page.config.newsId+".data",appid=appIDstocknewsinfo);var likeurl=window.gConfig.likeDataServer+"?random="+Math.random()+"&uid="+page.config.uid+"&newsId="+page.config.newsId+"&appId="+appid,readurl=window.gConfig.readApiHost+"click/addclick?random="+Math.random()+"&clickType=news.stocknews&identity="+page.config.newsId;page.requestData(url,function(data){if(data){var getContent=eval("("+data+")"),newsInfo={};if("cloud"===page.config.source)newsInfo={Title:getContent.article_title,LastModifyTime:getContent.modify_time.substr(0,19),ClickNum:0,NewsContent:getContent.content};else{if(!getContent.Message&&!getContent.Message.NewsInfo)return;newsInfo=getContent.Message.NewsInfo}page.SetDatas(" "," "," ","内容加载中……"),page.SetDatas(newsInfo.Title,newsInfo.LastModifyTime,newsInfo.ClickNum,newsInfo.NewsContent)}}),page.requestData(readurl,function(res){var data=eval("("+res+")");if("cloud"===page.config.source){var eleClickNum=page.get("ClickNum");eleClickNum.innerHTML="阅读量："+data.Message}}),page.requestData(likeurl,function(res){var data=eval("("+res+")");if(data.isSucess){var eleLikeNum=page.get("likeNum");page.config.likes=data.message.likes+1,eleLikeNum.innerHTML="点赞数："+data.message.likes,data.message.liked?eleLikeNum.className="liked":eleLikeNum.className=""}})},delTags:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+="").replace(/href=/g,"href===")).replace(/src=/g,"src===")).replace(/target=/g,"target===")).replace(/\w+(\s*=\s*".*?")+/gi,"")).replace(/(<\/?(html|body)[^>\/]*)\/?>/gi,"")).replace(/<\/?(style)[^>]*>(.*?)<\/\1>/gi,"")).replace(/<\/?(head)[^>]*>(.*?)<\/\1>/gi,"")).replace(/<\/?(meta)[^>]*>(.*?)<\/\1>/gi,"")).replace(/<\/?(script)[^>]*>(.*?)<\/\1>/gi,"")).replace(/<table/gi,'<table width="100%" border="0" cellspacing="0" cellpadding="0"')).replace(/href===/g,"href=")).replace(/src===/g,"src=")).replace(/target==/g,"target=")},addCookie:function(e,t,n,i,o,r){if(""!=n){var a=new Date;a.setTime(a.getTime()+24*n*3600*1e3),n=";expires="+a.toUTCString()}i=i?"; path="+i:"",o=o?"; domain="+o:"",r=r?"; secure":"",document.cookie=[e,"=",encodeURIComponent(t),n,i,o,r].join(""),page.getCookie(e)},getCookie:function(e){var t="";if(""!=(o=document.cookie))for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o;if((o=n[i]).substring(0,e.length+1)==e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},copyToClipboard:function(){var e,t,n="";if(t=document.getElementById("title").innerText+"\r\n"+document.getElementById("viewpart").innerText,n=window.getSelection?window.getSelection().toString():document.selection&&document.selection.createRange?document.selection.createRange().text:"",e=""==n?t:n,window.clipboardData)window.clipboardData.setData("text",e);else new Clipboard("#copyBtn",{text:function(){return e}})},resize:function(){var e=document.body.clientHeight;if(0!=e){var t=e-page.get("content").offsetTop-5;t=t<0?0:t,page.get("viewpart").style.height=t+"px",page.get("content").style.height=t+"px",page.getHeight("viewpart")>page.getHeight("content")?(page.get("viewpart").style.width=document.body.clientWidth-23-50+"px",page.get("content").style.margin="0px 0px 0px 5px"):(page.get("viewpart").style.width=document.body.clientWidth-10-50+"px",page.get("content").style.margin="5px"),"Microsoft Internet Explorer"==navigator.appName&&0<=navigator.appVersion.indexOf("MSIE 6.0")&&(page.get("content").style.width=document.body.clientWidth-(1==page.isfirst?18:1)+"px",page.get("viewpart").style.width=document.body.clientWidth-18-50+"px")}},get:function(e){return document.getElementById(e)},getHeight:function(e){return null==page.get(e)?0:page.get(e).clientHeight},setThemes:function(e,t){page.get("page").className=t;for(var n=page.get("themeoptions").getElementsByTagName("a"),i=0;i<n.length;i++)n[i].className=n[i].className.replace(" selected","").replace("on","");e.className="on"+e.className+" selected",page.addCookie("theme",t,365)},setFontSize:function(e){var t=2,n=12,i=20,o=12,r=page.get("content"),a=page.get("title"),s=page.get("date");e<0&&(t=-2),n=30<(n=(n=parseInt((""==r.style.fontSize?n+"":r.style.fontSize).replace("px",""))+t)<12?12:n)?30:n,i=30<(i=(i=parseInt((""==a.style.fontSize?i+"":a.style.fontSize).replace("px",""))+t)<12?12:i)?30:i,o=30<(o=(o=parseInt((""==s.style.fontSize?o+"":s.style.fontSize).replace("px",""))+t)<12?12:o)?30:o,r.style.lineHeight=1.7*n+"px",r.style.fontSize=n+"px",a.style.lineHeight=1.7*i+"px",a.style.fontSize=i+"px",s.style.lineHeight=1.7*o+"px",s.style.fontSize=o+"px",page.resize()},thumbsUP:function(obj){if(-1<obj.className.indexOf("liked"))return!1;var appId=appIDnewsinfo;"cloud"===page.config.source&&(appId=appIDstocknewsinfo);var likeurl=window.gConfig.likeDataServer;page.isIE8()?(likeurl=window.gConfig.likeDataServerJsonp,page.jsonp({type:"get",url:likeurl,data:{uid:page.config.uid,newsId:page.config.newsId,appId:appId},callback:"callback",success:function(e){var t=page.get("likeNum");e.isSucess&&(page.config.likes=page.config.likes,t.innerHTML="点赞数："+page.config.likes),t.className="liked"}})):page.requestPostData(likeurl,"uid="+page.config.uid+"&newsId="+page.config.newsId+"&appId="+appId,function(res){var data=eval("("+res+")"),eleLikeNum=page.get("likeNum");data.isSucess&&(page.config.likes=page.config.likes,eleLikeNum.innerHTML="点赞数："+page.config.likes),eleLikeNum.className="liked"})},jsonp:function(t){t=t||{};var n=("jsonp_"+Math.random()).replace(".",""),i=document.getElementsByTagName("head")[0];t.data[t.callback]=n;var e=page.formatParams(t.data),o=document.createElement("script");i.appendChild(o),window[n]=function(e){i.removeChild(o),clearTimeout(o.timer),window[n]=null,t.success&&t.success(e)},o.src=t.url+"?"+e,t.time&&(o.timer=setTimeout(function(){window[n]=null,i.removeChild(o),t.fail&&t.fail({message:"超时"})},time))},formatParams:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},isIE8:function(){var e=navigator.appName,t=navigator.appVersion.split(";")[1].replace(/[ ]/g,"");return"Microsoft Internet Explorer"==e&&("MSIE8.0"==t||"MSIE7.0"==t)},switchPdf:function(e,t){var n=e;page.get("iframePdf")&&("pdf"==n.getAttribute("data-status")?(n.setAttribute("data-status","text"),iframePdf.style.display="none"):(n.setAttribute("data-status","pdf"),iframePdf.style.display="block"))},requestData:function(e,t){try{var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&"function"==typeof t&&t(n.responseText)},n.open("GET",e,!0),n.send(null)}catch(o){if(window.XDomainRequest){var i=new XDomainRequest;i.open("get",e),i.onprogress=function(){},i.ontimeout=function(){},i.onerror=function(){},i.onload=function(){"function"==typeof t&&t(i.responseText)},setTimeout(function(){i.send()},0)}}},requestPostData:function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&"function"==typeof n&&n(i.responseText)},i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t)},SetDatas:function(e,t,n,i){i=(i=page.delTags(i)).replace(/((\s*(&nbsp;)+\s*)+)/gm,"　　");var o=page.get("viewpart"),r=page.get("title"),a=page.get("date"),s=page.get("ClickNum");i.match(/<a\s+style='display:none'\s+href='(.*)'.*><\/a>/im),page.get("iframePdf"),page.get("backBtn");""!=e.Trim()?(r.innerHTML="<strong>"+e+"</strong>",r.style.display=""):r.style.display="none",""!=t.Trim()?(a.innerHTML=t.replace(/T/g," "),a.style.display=""):a.style.display="none",null!=n&&"cloud"!==page.config.source&&(s.innerHTML="阅读量："+(n+1));var c=i;""==c?c="暂无内容":o.innerHTML=c,page.resize()}};function QueryString(e){var t=window.location.search&&window.location.search.substr(1),i={};return t.toLowerCase().replace(/([^?&=]+)=([^?&=]*)/g,function(e,t,n){i[t]=encodeURIComponent(n)}),i[e]}page.init();var chkMSIE8=function(){var e=window.navigator.userAgent.match(/(rv:|msie )\d+/i);return(e?parseInt(e[0].split(/:| /g)[1]):9)<=8}(window);function getClipboard(e){function t(e){_self=this,_self.copyBtn=e.copyBtn||null,_self.textCnt=e.textCnt||null}return t.prototype.godone=function(){var e=this;if(chkMSIE8){if(window.attachEvent)document.getElementById(e.copyBtn).attachEvent("onclick",function(){window.clipboardData.setData("Text",e.textCnt)});else alert("浏览器版本过低，不支持该操作！")}else{var t=new Clipboard("#"+e.copyBtn,{text:function(){return e.textCnt}});t.on("success",function(e){}),t.on("error",function(e){})}},new t(e).godone()}!function(e){chkMSIE8||("object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e())}(function(){return function u(r,a,s){function c(n,e){if(!a[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[n]={exports:{}};r[n][0].call(o.exports,function(e){var t=r[n][1][e];return c(t||e)},o,o.exports,u,r,a,s)}return a[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){var o=e("matches-selector");t.exports=function(e,t,n){for(var i=n?e:e.parentNode;i&&i!==document;){if(o(i,t))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(e,t,n){var s=e("closest");t.exports=function i(e,t,n,i,o){var r=function a(t,n,e,i){return function(e){e.delegateTarget=s(e.target,n,!0),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}},{closest:1}],3:[function(e,t,n){n.node=function(e){return e!==undefined&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==undefined&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var a=e("./is"),s=e("delegate");t.exports=function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(a.nodeList(e))return function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(a.string(e))return function r(e,t,n){return s(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,n){var i=Element.prototype,o=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=function r(e,t){if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}},{}],6:[function(e,t,n){t.exports=function i(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}},{}],7:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function o(){i.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],8:[function(i,o,r){!function(e,t){if(void 0!==r)t(o,i("select"));else{var n={exports:{}};t(n,e.select),e.clipboardAction=n.exports}}(this,function(e,t){var p=function n(e){return e&&e.__esModule?e:{aDefault:e}}(t);var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var g=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),i=function(){function n(e){!function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.resolveOptions(e),this.initSelection()}return n.prototype.resolveOptions=function e(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},n.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},n.prototype.selectFake=function i(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,p.aDefault)(this.fakeElem),this.copyText()},n.prototype.removeFake=function o(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},n.prototype.selectTarget=function r(){this.selectedText=(0,p.aDefault)(this.target),this.copyText()},n.prototype.copyText=function a(){var e=undefined;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},n.prototype.handleResult=function s(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},n.prototype.clearSelection=function c(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},n.prototype.destroy=function l(){this.removeFake()},g(n,[{key:"action",set:function u(){var e=arguments.length<=0||arguments[0]===undefined?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function f(){return this._action}},{key:"target",set:function u(e){if(e!==undefined){if(!e||"object"!==(void 0===e?"undefined":d(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function f(){return this._target}}]),n}();e.exports=i})},{select:6}],9:[function(i,o,r){!function(e,t){if(void 0!==r)t(o,i("./clipboard-action"),i("tiny-emitter"),i("good-listener"));else{var n={exports:{}};t(n,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=n.exports}}(this,function(e,t,n,i){var u=r(t),o=r(n),f=r(i);function r(e){return e&&e.__esModule?e:{aDefault:e}}var a=function(r){function a(e,t){!function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this));return i.resolveOptions(t),i.listenClick(e),i}return function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r),a.prototype.resolveOptions=function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},a.prototype.listenClick=function n(e){var t=this;this.listener=(0,f.aDefault)(e,"click",function(e){return t.onClick(e)})},a.prototype.onClick=function i(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.aDefault({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},a.prototype.defaultAction=function o(e){return p("action",e)},a.prototype.defaultTarget=function s(e){var t=p("target",e);if(t)return document.querySelector(t)},a.prototype.defaultText=function c(e){return p("text",e)},a.prototype.destroy=function l(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},a}(o.aDefault);function p(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=a})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});var EMWin={GetExternal:function(){return window.external.EmObj},PC_JH:function(e,t){try{return EMWin.GetExternal().EmFunc(e,t)}catch(n){}},LoadComplete:function(){try{EMWin.PC_JH("EM_FUNC_DOWNLOAD_COMPLETE","")}catch(e){}},EM_FUNC_HIDE:function(){try{EMWin.PC_JH("EM_FUNC_HIDE","")}catch(e){}},EM_FUNC_SHOW:function(e){try{EMWin.PC_JH("EM_FUNC_SHOW","")}catch(t){}},openWindow:function(){EMWin.PC_JH("EM_FUNC_DLGSIZE","587&713"),EMWin.LoadComplete(),EMWin.EM_FUNC_SHOW()}},openType=0;EMWin.openWindow();
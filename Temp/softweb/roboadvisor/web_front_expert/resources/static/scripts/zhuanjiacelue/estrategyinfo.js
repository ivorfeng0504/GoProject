define(["jquery","cors","utils","handlebars","nicescroll"],function(a,t,s,n,e){({StrategyID:0,init:function(){var t=this;s.appendSSO(),a.support.cors=!0,t.setScroll(),t.StrategyArticleShow(),t.newsInfoListshow(),t.hotArticlesList(),t.liveContentList()},setScroll:function(){a.each(["#medialistScroll","#medialistScroll2","#iveNlPack","#iveNlPack2","#acScrollbox","#yaowenNlPack","#iveYwNlPack"],function(t,e){0<a(e).length&&a(e).niceScroll({cursorcolor:"#666",cursoropacitymax:.5,touchbehavior:!1,cursorwidth:"6px",cursorborder:"0",cursorborderradius:"8px",autohidemode:!1})})},StrategyArticleShow:function(){var t=s.GetQueryString("StrategyID"),e=["<div><div class='cur-topic'>","\t<div class='ct-media pull-left'>","\t\t<img src='{{StrategyImg}}' title='{{ StrategyName }}'>","\t</div>","\t<div class='ct-mid pull-left'>","\t\t<h3>{{ StrategyName }}</h3>","\t\t<div> 投顾编号：{{ StrategyTGNo }} </div>","\t\t<div class=' '>","\t\t\t<span class=' '>","\t\t\t<b><i class='icon-1'>&#xe61b;</i>54</b> <b> <i class='icon-1'>&#xe602;</i> 54</b>","\t\t\t</span>","\t\t</div>","\t</div>","\t<div class='ct-txt pull-left'> {{ StrategySummary }} </div>","\t<div class='clearfloat'></div>","</div>","<div class='topic-labels'>","{{#each TagsList}}","\t<span class='label label-info-pale'>{{Tags}}</span>","{{/each}}","</div></div>"].join("");if(""!=t){this.StrategyID=t,n.registerHelper("renderTime",function(t){return t=t==undefined||null==t||0==t.length?"":t.substr(0,10),new n.SafeString(t)});var i=n.compile(e);a.get(window.gConfig.apiHost+"expert/strategy/GetStrategyInfoBySID",{StrategyID:this.StrategyID},function(t){if(0==t.RetCode){var e=i(t.Message);a("#StrategyInfoShow").html(e)}})}},newsInfoListshow:function(){var t=["<div>","{{#each Message}}","\t<div class='item section'>","\t\t<div class='item-content'>","\t\t\t<div class='ic-iner'>","\t\t\t\t<h3 class='ic-title'>","\t\t\t\t<span class='view-tips pull-right'>","\t\t\t\t<b>","\t\t\t\t<i class='icon-1'>&#xe61b;</i> </b>","\t\t\t\t<b>","\t\t\t\t<i class='icon-1'>&#xe602;</i> </b>","\t\t\t\t<em class='time'> {{renderDateTime NewsInfo.CreateTime}} </em>","\t\t\t\t</span>","\t\t\t\t<span><a href='"+pagerouter.zhuanjiacelueArticle+"?NewsID={{ NewsInfo.ID }}"+s.EMSSO()+"'>{{ NewsInfo.Title }} </a></span>","\t\t\t\t</h3>","\t\t\t\t<div class='ic-txt'> {{contentSummary NewsInfo.NewsContent}} </div>","\t\t\t</div>","\t\t</div>","\t</div>","{{/each}}","</div>"].join("");n.registerHelper("renderDateTime",function(t){var e;return e=t==undefined||null==t||0==t.length?"":a.formatDate(t,"MM-dd mm:ss"),new n.SafeString(e)}),n.registerHelper("contentSummary",function(t){var e=a("<div>"+t+"</div>").text();return e=e.slice(0,80),new n.SafeString(e)});var i=n.compile(t);a.get(window.gConfig.apiHost+"expert/strategy/GetStrategyNewsList",{ColumnID:16,StrategyID:0,currpage:1,pageSize:10},function(t){if(0==t.RetCode&&0<t.Message.length){var e=i(t);a("#StrategyInfoList").html(e)}})},hotArticlesList:function(){var t=["<ul>","{{#each Message}}",'    <li><a href="'+pagerouter.zhuanjiacelueArticle+"?NewsID={{ ID }}"+s.EMSSO()+'"><i class="icon-1">&#xe637;</i>{{ Title }}</a>',"    </li>","{{/each}}","</ul>"].join(""),i=n.compile(t);a.get(window.gConfig.apiHost+"static/libs/mock/rediancelue.json",{ColumnID:16,StrategyID:0,currpage:1,pageSize:3},function(t){if(0==t.RetCode&&0<t.Message.length){t.Message=t.Message.slice(0,3);var e=i(t);a("#hisArticleList").html(e)}})},liveContentList:function(){var t=['<ul class="ive-nl-cnt">',"{{#each this}}","\t<li>",'\t<div class="timeline">','\t\t<i class="icon-1">&#xe683;</i> {{renderHMSTime CreateTime }}',"\t</div>",'\t<div class="txtline">',"\t\t{{ Message }}","\t</div>","\t</li>","{{/each}}","</ul>"].join(""),i=n.compile(t);n.registerHelper("renderHMSTime",function(t){return t=t==undefined||null==t||0==t.length?"":a.formatDate(t,"hh:mm:ss"),new n.SafeString(t)}),a.get(window.gConfig.apiHost+"static/libs/mock/liveContentList.json",{lid:93,data:"2018-5-30",page:1},function(t){if(0==t.RetCode&&0<t.Data.length){var e=i(t.Data);a("#iveNlPack2").html(e)}})}}).init()});
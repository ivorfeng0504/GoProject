require(["jquery"],function(r){({init:function(){this.buildEvents(),this.decrypt()},errorPop:function(e){var t=this;t.$bg.addClass("open"),t.$errorPop.addClass("open"),t.$errorPop.find(".tip").text(e)},decrypt:function(){var o=this,t=r("#decrypt");r.ajax({url:window.gConfig.apiHost+"activity/getreceivestat",contentType:"application/json",type:"POST",timeout:5e3,dataType:"JSON",success:function(e){0==e.RetCode?1===e.Message.LoginCountSerial?t.attr("class","btn day1"):2===e.Message.LoginCountSerial?t.attr("class","btn day2"):(o.decryptStation=!0,o.decryptData=e.Message,t.attr("class","btn day3"),t.addClass("decrypted")):o.errorPop("发生异常，请稍后再试~")},error:function(e,t,r){o.errorPop("服务器发生异常，请稍后再试~")}})},buildEvents:function(){var o=this,e=r("#decrypt");o.$decryptPop=r("#decrypt-pop"),o.$errorPop=r("#error-pop"),o.$decryptTitle=o.$decryptPop.find(".title"),o.$errorTitle=o.$errorPop.find(".title"),o.$bg=r(".bg"),e.on("click",function(){r(this).hasClass("decrypted")&&r.ajax({url:window.gConfig.apiHost+"activity/getstocklist",contentType:"application/json",type:"POST",timeout:5e3,dataType:"JSON",success:function(e){0==e.RetCode?(o.$decryptPop.addClass("open"),o.$bg.addClass("open"),r("#getReport").attr("href",e.Message.ReportUrl),o.decryptStation=!1):o.errorPop("发生异常，请稍后再试~")},error:function(e,t,r){o.errorPop("服务器发生异常，请稍后再试~")}})}),o.$decryptTitle.on("click",function(){o.$decryptPop.removeClass("open"),o.$bg.removeClass("open")}),o.$errorTitle.on("click",function(){o.$errorPop.removeClass("open"),o.$bg.removeClass("open")})}}).init()});